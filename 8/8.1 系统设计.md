## 8.1 系统设计

### 基本步骤
需求分析、梳理核心功能、定义问题
设计解决方案
对应的数据结构和算法
优化相关方案

### 自顶向下和模块化
这是解决系统设计问题的一般策略。以Youtube推荐系统为例：
1. 首先可以考虑把它分成前端和后端（面试官可能只会要求后端或特定部分，但是我们需要指出来整个系统)。
2. 对于后端，核心功能分为3块：收集用户数据(如他观看的视频、偏好等)，离线流水线生成推荐，存储数据并提供给前端。
3. 然后，我们可以深入每个具体组件：对于用户数据，我们可以列出与用户可能喜欢的视频相关的功能；对于流水线，我们可以讨论如何训练数据集等（大数据处理，Hadoop等）。最后针对前后端，可以考虑缓存等方面。

另一个技巧是模块化：就像我上面所说的，把系统分成不同的模块，模块化不仅可以使你的设计方案更加清晰，具体实现也更为容易。

### 优点和缺点
最常见的权衡是在时间和内存之间：你可以直接告诉面试官每个解决方案的优缺点，并要求他澄清你有多少内存的限制。

### 估计
在做系统设计时，你应该清楚地估计出你的系统或程序会消耗多少内存，运行速度有多快。根据限制条件，你将如何调整你的设计。

### 经典问题
* Id生成器
* 短域名
* 任务调度器（定时器）

* Feed流系统
* IM系统
* Google Docs系统
* Youtube系统

* 订单系统
* 秒杀系统
* 电商系统

* 缓存系统
* KV存储系统

* 网络爬虫
* 垃圾回收系统
* 搜索引擎

* 布隆过滤器
* 海量数据问题
